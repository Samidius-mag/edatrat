# ЕмПоСезону

Приложение для планирования питания с учетом сезонности, акций магазинов и остатков в холодильнике.

## Анализ ТЗ

### Ключевые модули

1. **Профиль питания** - настройки пользователя (семья, цели, ограничения, бюджет)
2. **Сезонность** - учет сезонных продуктов по регионам
3. **Интеграция со скидками** - подключение к API магазинов
4. **Умный холодильник** - учет остатков продуктов
5. **Динамическое меню** - недельное планирование с возможностью изменений
6. **Быстрые рецепты** - подбор рецептов из имеющихся продуктов
7. **Список покупок** - автоматическая генерация с группировкой

### MVP (Минимально жизнеспособный продукт)

**Фаза 1:**
- Профиль питания и ограничений
- Генерация недельного меню
- Автоматический список покупок
- Базовый учет остатков (ручной ввод)
- Рекомендации рецептов из остатков

**Фаза 2:**
- Интеграция с одной сетью супермаркетов (или фиктивные цены)
- Аналитика экономии
- Улучшенная база рецептов

## Технологический стек

- **Backend:** Node.js + Express
- **Frontend:** React (Vite)
- **Хранилище данных:** JSON файлы
- **Развертывание:** Docker + Ubuntu 20.04.5 LTS

## Структура проекта

```
edatrat/
├── backend/          # Node.js API сервер
├── frontend/         # React приложение
├── database/         # SQL схемы и миграции
├── docker/           # Docker конфигурации
└── docs/            # Документация
```

## Установка и запуск

### Локальная разработка

1. Установите зависимости:
```bash
npm run install:all
```

2. Настройте переменные окружения:
```bash
cp backend/.env.example backend/.env
# Отредактируйте backend/.env при необходимости
```

3. Запустите backend и frontend:
```bash
# В отдельных терминалах:
npm run dev:backend
npm run dev:frontend

# Или одновременно:
npm run dev
```

### Docker (полное развертывание)

```bash
docker compose up -d
```

Приложение будет доступно:
- Frontend: https://vgk-perv.ru (через Nginx с HTTPS)
- Backend API: https://vgk-perv.ru/api (через Nginx с HTTPS)
- Локально: http://localhost:27015 (frontend), http://localhost:3001 (backend)

**Для настройки HTTPS см. [docs/HTTPS_SETUP.md](docs/HTTPS_SETUP.md)**

Данные хранятся в JSON файлах в директории `backend/data/`

Подробнее о развертывании на Ubuntu см. [docs/DEPLOYMENT.md](docs/DEPLOYMENT.md)

## Документация

- [Анализ ТЗ](docs/TZ_ANALYSIS.md) - детальный анализ технического задания
- [API Документация](docs/API.md) - описание всех API endpoints
- [Roadmap](docs/ROADMAP.md) - план разработки по фазам
- [Развертывание](docs/DEPLOYMENT.md) - инструкции для Ubuntu 20.04.5 LTS

## Структура проекта

```
edatrat/
├── backend/              # Node.js + Express API
│   ├── src/
│   │   ├── routes/      # API маршруты
│   │   ├── models/      # Модели данных (будет добавлено)
│   │   ├── services/    # Бизнес-логика (будет добавлено)
│   │   └── index.js     # Точка входа
│   ├── Dockerfile
│   └── package.json
├── frontend/             # React приложение
│   ├── src/
│   │   ├── components/  # React компоненты (будет добавлено)
│   │   ├── pages/       # Страницы (будет добавлено)
│   │   └── App.jsx
│   ├── Dockerfile
│   └── package.json
├── backend/
│   └── data/            # JSON хранилище данных
│       ├── users.json
│       ├── recipes.json
│       └── ...
├── docker-compose.yml    # Docker конфигурация
└── docs/                 # Документация
```

## Текущий статус

✅ Структура проекта создана  
✅ Docker конфигурация настроена  
✅ Базовая архитектура API  
✅ Схема базы данных  
⏳ Реализация бизнес-логики (в процессе)  
⏳ Frontend компоненты (в процессе)

